@inherits LayoutComponentBase
@using MudBlazor
@inject ISessionService SessionService

<MudDialogProvider />
<MudSnackbarProvider />
<MudPopoverProvider />

<MudLayout Theme="@_customTheme">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <nav class="w-64 bg-gray-900 text-white flex flex-col shadow-lg">
            <div class="p-4 text-2xl font-bold border-b border-gray-700">
                📚 Proyecto2
            </div>
            <MudButton OnClick="SessionService.LogoutAsync" Color="Color.Error" Variant="Variant.Text" Class="m-2">
                🔒 Cerrar sesión
            </MudButton>
            <ul class="flex-1 overflow-y-auto">
                <li><NavLink class="block px-4 py-3 hover:bg-gray-700" href="/">🏠 Inicio</NavLink></li>
                <li><NavLink class="block px-4 py-3 hover:bg-gray-700" href="/autores">👤 Lista de Autores</NavLink></li>
                <li><NavLink class="block px-4 py-3 hover:bg-gray-700" href="/autores/registrar">➕ Registrar Autor</NavLink></li>
                <li><NavLink class="block px-4 py-3 hover:bg-gray-700" href="/libros">📖 Lista de Libros</NavLink></li>
                <li><NavLink class="block px-4 py-3 hover:bg-gray-700" href="/libros/registrar">➕ Registrar Libro</NavLink></li>
            </ul>
            <footer class="p-4 border-t border-gray-700 text-sm text-center opacity-50">
                © 2025 Oscar Canales
            </footer>
        </nav>

        <!-- Main content -->
        <main class="flex-1 overflow-y-auto bg-gray-100 p-6">
            @Body
        </main>
    </div>
</MudLayout>

@code {
    private MudTheme _customTheme = new MudTheme()
        {
            Palette = new Palette()
            {
                Primary = Colors.Blue.Default,
                Secondary = Colors.Grey.Darken3,
                AppbarBackground = Colors.Blue.Darken2,
            }
        };
}
